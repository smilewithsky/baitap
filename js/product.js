const product = [
    {
        id : 1 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-poongnyun-bpnpc-10-5-8l-bpnpc-10-1-u5463-d20170731-t160742-963957.jpg' ,
        header : 'Nồi Áp Suất Anod Sunhouse SHA8603 (6L)',
        priceCurrent : '2295000 ₫' ,
        priceOld : '2395000 ₫' ,
        rate: 
        `
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
        ` ,
        sale : 'HOT',
        list: [
            {
                id: 1 ,
                title : 'Chất Liệu Nhôm',
            } ,
            {
                id: 2 ,
                title : 'Dung tích 5.8L',
            } ,
            {
                id: 3 ,
                title : 'Độ bền cao',
            } ,
            {
                id: 4 ,
                title : 'Chống dính tốt',
            } ,
            {
                id: 5 ,
                title : 'Sử dụng được trên nhiều loại bếp',
            } ,
        ]
    } ,

    {
        id : 2 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-anod-sunhouse-lc400-4l-lc400-1-u2566-d20160818-t181046-539292-3.jpg' ,
        header : 'Nồi Áp Suất Anod Sunhouse LC400 4L',
        priceCurrent : '1290000 ₫ ' ,
        priceOld : '1390000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '-7%',
        list: [
            {
                id: 1 ,
                title : 'Nhập khẩu từ Hàn Quốc',
            } ,
            {
                id: 2 ,
                title : 'Hầm, nấu thức ăn nhanh',
            } ,
            {
                id: 3 ,
                title : 'Dung tích 4 lít, hợp với gia đình dưới 4 người',
            } ,
            {
                id: 4 ,
                title : 'Tiết kiệm tối đa 70% thời gian nấu',
            } ,
            {
                id: 5 ,
                title : 'Không dùng được cho bếp từ',
            } ,
        ]
    } ,

    {
        id : 3 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-poongnyun-hcpc-28cv-10-1l-hcpc-28cv-1-u5386-d20170731-t165436-986928.jpg' ,
        header : 'Nồi Áp Suất PoongNyun HCPC-28CV (10.1L)',
        priceCurrent : '2765000 ₫' ,
        priceOld : ' 2865000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '-3%',
        list: [
            {
                id: 1 ,
                title : 'Inox 3 lớp 3.2T',
            } ,
            {
                id: 2 ,
                title : 'Độ bền cao',
            } ,
            {
                id: 3 ,
                title : 'Dẫn nhiệt tốt',
            } ,
            {
                id: 4 ,
                title : 'Dùng trên nhiều loại bếp',
            }
        ]
    } ,

    {
        id : 5 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-anod-sunhouse-sha8603-6l-d475b2384e325c05e3a7c408e4ff6d54.jpg' ,
        header : 'Nồi Áp Suất Anod Sunhouse SHA8603 (6L)',
        priceCurrent : '569000 ₫' ,
        priceOld : ' 669000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : 'HOT',
        list: [
            {
                id: 1 ,
                title : 'Cấu tạo từ hợp kim siêu bền, kỹ thuật tiên tiến giảm thiểu biến dạng khi va đập',
            } ,
            {
                id: 2 ,
                title : 'Quai nồi được chế tạo bằng nhựa chịu nhiệt nhập khẩu',
            } ,
            {
                id: 3 ,
                title : 'Gioăng cao su có tuổi thọ cao. Sản phẩm có độ bền cao, bề mặt chống xước',
            }
        ]
    } ,

    // Noi u

    {
        id : 6 ,
        Image : '../../images/product/thumb_350_n-i-gi-nhi-t-chan-khong-a-n-ng-inox-zojirushi-7l-mau-vang-4b2cd2d478199a38bb7b0283551f142a.jpg' ,
        header : 'Nồi ủ giữ nhiệt chân không đa năng inox Zojirushi 7l màu vàng',
        priceCurrent : '890000 ₫' ,
        priceOld : ' 990000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        ` ,

        sale : '-15%',
        list: [
            {
                id: 1 ,
                title : 'Sản xuất tại Việt Nam theo dây chuyền hiện đại',
            } ,
            {
                id: 2 ,
                title : 'Tiết kiệm nhiên liệu, dễ dàng sử dụng',
            } ,
            {
                id: 3 ,
                title : 'Chế biến được nhiều món ăn',
            } ,
            {
                id: 4 ,
                title : 'nấu được trên bếp ga và bếp hồng ngoại, riêng bếp từ cần sử dụng miếng lót',
            }
        ]
    } ,

    {
        id : 7 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-poongnyun-hcpc-28cv-10-1l-hcpc-28cv-1-u5386-d20170731-t165436-986928.jpg' ,
        header : 'Xửng Hấp Tupperware Steam It (20cm)',
        priceCurrent : '550000 ₫' ,
        priceOld : ' 650000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : 'HOT',
        list: [
            {
                id: 1 ,
                title : 'Thiết kế khít chặt và khép kín giúp gia tăng áp suất bên trong',
            } ,
            {
                id: 2 ,
                title : 'Chất liệu chịu nhiệt cực cao tới 180 độ C',
            } ,
            {
                id: 3 ,
                title : 'Có vạch chia mực nước giúp việc canh chỉnh thời gian hấp dễ dàng',
            } ,
            {
                id: 4 ,
                title : 'Thiết kế lỗ thoát khí trên nắp giúp giảm bớt khí và áp suất',
            } ,
            {
                id: 5 ,
                title : 'Bề mặt khay hấp được thiết kế giúp thực phẩm không bị bám dính',
            } ,
            {
                id: 6 ,
                title : 'Cấu tạo rãnh thoát nước ngoài cùng giúp bề mặt thực phẩm không bị hỏng và',
            } ,
        ]
    } ,

    {
        id : 8 ,
        Image : '../../images/product/thumb_350_n-i-tiger-nfh-g450-mau-4-5-lit-nfh-g450do-1-u2566-d20170117-t111450-67781.jpg' ,
        header : 'Nồi Ủ Tiger NFH-G450 - Màu Đỏ - 4.5 Lít',
        priceCurrent : '4494000 ₫' ,
        priceOld : ' 4594000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '-10%',
        list: [
            {
                id: 1 ,
                title : 'Chất liệu thép không gỉ an toàn',
            } ,
            {
                id: 2 ,
                title : 'Tay cầm bằng nhựa cách nhiệt',
            } ,
            {
                id: 3 ,
                title : 'Giữ nhiệt độ bằng công nghệ chân không',
            } ,
            {
                id: 4 ,
                title : 'Dung tích 4,5 lít phù hợp gia đình 4 - 6 người',
            }
        ]
    } ,

    {
        id : 9 ,
        Image : '../../images/product/thumb_350_n-i-inox-2-t-ng-dung-tich-6l-khaluck-home-kl-711-142362403c700ba72fd900258f9031e4.jpg' ,
        header : 'Nồi ủ Inox 2 tầng dung tích 6L Khaluck.Home KL-711',
        priceCurrent : '779999 ₫' ,
        priceOld : ' 879000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '-10%',
        list: [
            {
                id: 1 ,
                title : 'Nồi có dung tích lớn lên đến 6L chứa đủ thức ăn cho gia đình',
            } ,
            {
                id: 2 ,
                title : 'Có 2 tầng đựng nhiều thức ăn hơn',
            } ,
            {
                id: 3 ,
                title : 'Thời gian giữ nhiệt tới 8h thích hợp cho những chuyến đi dã ngoại',
            } ,
            {
                id: 4 ,
                title : 'Chất liệu Inox 304 đúc nguyên khối phản xạ nhiệt tốt giữ nóng lâu hơn, tránh thất',
            } ,
            {
                id: 5 ,
                title : 'Lớp vỏ sử dụng inox cách nhiệt theo công nghệ hiện đại hạn chế truyền nhiệt ra',
            } ,
            {
                id: 6 ,
                title : 'Bảo hành chính hãng 12 tháng',
            } ,
        ]
    } ,

    // bo noi
    {
        id : 10 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-poongnyun-hcpc-28cv-10-1l-hcpc-28cv-1-u5386-d20170731-t165436-986928.jpg' ,
        header : 'Bộ Nồi Canh Chống Dính Sắc Màu 4 Cái Supor 16, 20, 24, 26 cm (1.7,...',
        priceCurrent : '986000 ₫' ,
        priceOld : ' 1086000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '-9%',
        list: [
            {
                id: 1 ,
                title : 'Chất liệu: Hợp kim nhôm quốc tế 3003 truyền nhiệt nhanh, dẫn nhiệt đều.',
            } ,
            {
                id: 2 ,
                title : 'Bên trong sử dụng chất chống dính an toàn theo tiêu chuẩn của tập đoàn SEB',
            } ,
            {
                id: 3 ,
                title : 'Kỹ thuật phun cát cố đính tăng cường độ bám của chất chống dính trên bề mặt',
            } ,
            {
                id: 4 ,
                title : 'Bên ngoài lớp sơn tĩnh điện, dễ dàng vệ sinh.',
            } ,
            {
                id: 5 ,
                title : 'Kiểu dáng thời trang, sắc màu sáng tạo cảm giác tươi mới.',
            } ,
            {
                id: 6 ,
                title : 'Nồi size 26cm dùng được cho bếp từ.',
            } ,
        ]
    } ,

    {
        id : 11 ,
        Image : '../../images/product/thumb_350_b-1-n-i-1-4l-va-6-chen-c-m-mau-pastel-dong-hwa-psm1507s7-b-1-n-i-v-6-ch-n-c-m-m-u-pastel-psm1507s7-1-1.png' ,
        header : 'Bộ 1 Nồi 1.4L Và 6 Chén Cơm Màu Pastel Dong Hwa PSM1507S7',
        priceCurrent : '559000 ₫ ' ,
        priceOld : '659000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '5%',
        list: [
            {
                id: 1 ,
                title : 'Đường kính chén 116 mm',
            } ,
            {
                id: 2 ,
                title : 'Chiều cao chén 55 mm',
            } ,
            {
                id: 3 ,
                title : 'Khả năng chịu nhiệt: -40 - 500 độ C',
            } ,
            {
                id: 4 ,
                title : 'Dung tích nồi 1400 ml',
            } ,
        ]
    } ,

    {
        id : 12 ,
        Image : '../../images/product/thumb_350_b-2-n-i-th-y-tinh-blooming-amberline-luminarc-1l-2l-6548c3589e4014d441c502d3000ba050.jpg' ,
        header : 'Bộ 2 Nồi Thủy Tinh Blooming Amberline Luminarc (1L - 2L)',
        priceCurrent : '829000 ₫' ,
        priceOld : ' 929000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : 'HOT',
        list: [
            {
                id: 1 ,
                title : 'Chất liệu thủy tinh trong suốt cao cấp',
            } ,
            {
                id: 2 ,
                title : 'Chịu được độ nóng đến 400 độ C',
            } ,
            {
                id: 3 ,
                title : 'Tiết kiệm năng lượng và thời gian nấu',
            } ,
            {
                id: 4 ,
                title : 'Không bám mùi và rất dễ chùi rửa',
            }
        ]
    } ,

    {
        id : 13 ,
        Image : '../../images/product/thumb_350_n-i-ap-su-t-poongnyun-hcpc-28cv-10-1l-hcpc-28cv-1-u5386-d20170731-t165436-986928.jpg' ,
        header : 'Nồi Áp Suất Anod Sunhouse SHA8603 (6L)',
        priceCurrent : '2295000 ₫' ,
        priceOld : '2395000 ₫' ,
        rate: 
        `
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        `,
        sale : '-5%',
        list: [
            {
                id: 1 ,
                title : 'Cấu tạo từ hợp kim siêu bền, kỹ thuật tiên tiến giảm thiểu biến dạng khi va đập',
            } ,
            {
                id: 2 ,
                title : 'Quai nồi được chế tạo bằng nhựa chịu nhiệt nhập khẩu',
            } ,
            {
                id: 3 ,
                title : 'Gioăng cao su có tuổi thọ cao. Sản phẩm có độ bền cao, bề mặt chống xước',
            } 
        ]
    } ,
]

let arrayChange = [] ;

function renderNews(data){
    console.log('dataaa', data);
    let str = "" ;
    data.forEach(function(item){
        str = str + 
        `
            <div class="col l-4 m-6 c-12 news-column" id="${item.id}">   
                <div class="news-item">
                    <div class="news-image">
                        <img class="news-images" src="${item.Image}" alt="">

                        <div class="hovered-image">
                            <div class="hovered-list">
                                <i class="hovered-list-icon hovered-list-icon--views fas fa-eye" onclick="handleAppear(event)"></i>
                                <i class="hovered-list-icon hovered-list-icon--cart fas fa-shopping-cart" onclick="addToCart(event)"></i>
                                <i class="hovered-list-icon hovered-list-icon--reload fas fa-redo"></i>
                            </div>
                        </div>
                    </div>

                    <div class="news-sale">
                        ${item.sale}
                    </div>

                    <div class="news-content">
                        <a href="#" class="text-header news-header text-hover">
                            ${item.header}
                        </a>

                        <div class="news-cost">
                            <p class="news-cost-current">
                                ${item.priceCurrent}
                            </p>
                            <p class="news-cost-old">
                                ${item.priceOld}
                            </p>
                        </div>

                        <div class="news-rating">
                            ${item.rate}
                        </div>

                        <ul class="news-details">
                            ${renderList(item.list)}
                        </ul>
                    </div>
                </div>
            </div>
        `
    }) ;

    const container = document.querySelector('.news-rows') ;
    console.log(container);
    container.innerHTML = str ;

    return container ;
}

function renderList(data) {
    let str = "";
    data.forEach(item=>{
        str = str + 
        `
            <li class="news-detail-item">
                ${item.title}
            </li>
        `
    })

    return str ;
}

renderNews(product) ;

const itemRow = document.querySelector('.icon-row') ;
// console.log('itemRow ', itemRow);
const itemColumn = document.querySelector('.icon-column') ;
// console.log('itemColumn ', itemColumn);

const elementIcon = document.querySelectorAll('.icon');
for (let i = 0 ; i<elementIcon.length ; i++){
    const element = elementIcon[i] ;
    element.addEventListener('click' , function(event){
        const itemIcon = document.querySelectorAll('.icon');
        for(let i = 0 ; i < itemIcon.length ; i++) {
            itemIcon[i].classList.remove('icon-active')
        }

        const elemnt = event.target ;
        console.log(elemnt);

        const attribute = elemnt.getAttribute('class') ;
        console.log('attribute ',attribute);
        
        if(attribute.includes('icon-row')){
            element.classList.add('icon-active') ;
            const newsItem = document.querySelectorAll('.news-item') ;
            for(let i = 0 ; i < newsItem.length ; i++){
                newsItem[i].classList.add('item-vertical') ;
            }

            const newsColumn = document.querySelectorAll('.news-column') ;
            for(let i = 0 ; i < newsColumn.length ; i++){
                newsColumn[i].classList.add('l-12');
                newsColumn[i].classList.add('m-12');
            }

            const images = document.querySelectorAll('.news-images');
            for(let i = 0 ; i<images.length ; i++){
                images[i].style.minHeight = 'unset' ;
            }
        }

        else if(attribute.includes('icon-column')){
            element.classList.add('icon-active') ;
            const newsItem = document.querySelectorAll('.news-item') ;
            for(let i = 0 ; i < newsItem.length ; i++){
                newsItem[i].classList.remove('item-vertical') ;
            }

            const newsColumn = document.querySelectorAll('.news-column') ;
            for(let i = 0 ; i < newsColumn.length ; i++){
                newsColumn[i].classList.remove('l-12');
                newsColumn[i].classList.remove('m-12');
            }

            const images = document.querySelectorAll('.news-images');
            for(let i = 0 ; i<images.length ; i++){
                images[i].style.minHeight = '290px' ;
            }
        }

        else{
            console.log('error');
        }
    })
}


// translate to vietnamese
function removeAccents(str) {
    var AccentsMap = [
      "aàảãáạăằẳẵắặâầẩẫấậ",
      "AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬ",
      "dđ", "DĐ",
      "eèẻẽéẹêềểễếệ",
      "EÈẺẼÉẸÊỀỂỄẾỆ",
      "iìỉĩíị",
      "IÌỈĨÍỊ",
      "oòỏõóọôồổỗốộơờởỡớợ",
      "OÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢ",
      "uùủũúụưừửữứự",
      "UÙỦŨÚỤƯỪỬỮỨỰ",
      "yỳỷỹýỵ",
      "YỲỶỸÝỴ"    
    ];
    for (let i=0; i<AccentsMap.length; i++) {
      let re = new RegExp('[' + AccentsMap[i].substr(1) + ']', 'g');
      let char = AccentsMap[i][0];
      str = str.replace(re, char);
    }
    return str;
}

// search
const navSearch = document.querySelector('.navigation-left-auto__search');
// console.log('navSearch', navSearch);
navSearch.addEventListener('input' , function(event){
    const keyWord = event.target.value;
    const keyWordVietNamese = removeAccents(keyWord);
    // console.log('keyWordVietNamese ', keyWordVietNamese);
    // console.log('keyWord', keyWord);
    const item = document.querySelectorAll('.news-column');
    const itemInside = document.querySelectorAll('.news-item') ;
    const itemNeedToFind = document.querySelectorAll('.text-header.news-header') ;
    for(let i = 0 ; i < itemInside.length ; i++){
        // console.log('itemInside ',itemInside[i]);
        // console.log('item ',item[i]);
        const nameProduct = itemNeedToFind[i].textContent ;
        console.log('nameProduct ', nameProduct);
        const nameProductVietNamese = removeAccents(nameProduct) ;
        // console.log('nameProductVietNamese ' , nameProductVietNamese);
        // if()
        if(nameProductVietNamese.toLowerCase().includes(keyWordVietNamese.toLowerCase())){
            item[i].style.display = "block";
        }
        else{
            item[i].style.display = "none";
        }
    }
})

// Sort
const sortListProduct = [...product];
console.log('sortListProduct ',sortListProduct);
const select = document.querySelector('#selectValue') ;
// console.log('select ',select);
select.addEventListener('change' , function(event){
    const selectItem = event.target.value ;
    console.log('selectItem ',selectItem);
    if(selectItem === 'LowestToHighest'){
        const ascending = sortListProduct.sort(function(item1 , item2){
            const newItem1 = _.toNumber(item1.priceCurrent.slice(0 , -2));
            const newItem2 = _.toNumber(item2.priceCurrent.slice(0 , -2));
            console.log(item1.priceCurrent.slice(0 , -2));
            if(newItem1 > newItem2){
                return 1;
            }
            else if(newItem1 < newItem2){
                return -1;
            }
            else{
                return 0;
            }
        })
        renderNews(ascending);
        arrayChange = ascending ;
        console.log('arrayChange' , arrayChange);
    }
    else if(selectItem === 'HighestToLowest'){
        const decrease = sortListProduct.sort(function(item1 , item2){
            const newItem1 = _.toNumber(item1.priceCurrent.slice(0 , -2));
            const newItem2 = _.toNumber(item2.priceCurrent.slice(0 , -2));
            console.log(item1.priceCurrent.slice(0 , -2));
            if(newItem1 < newItem2){
                return 1;
            }
            else if(newItem1 > newItem2){
                return -1;
            }
            else{
                return 0;
            }
        })
        renderNews(decrease);

        arrayChange = decrease ;
        console.log('arrayChange' , arrayChange);
    }
    else{
        renderNews(product);
    }
})

// filer Price
// price
const navButton = document.querySelectorAll('.navigation-left-auto__btn') ;
for(let i = 0; i < navButton.length; i++){
    navButton[i].addEventListener('click',function(event){
        const nameBtn = event.target.innerText ;
        console.log('event ',event.target.innerText);
        if(nameBtn === 'Trên 2 triệu'){
            const minPrice2000 = product.filter(item=>{
                return _.toNumber(item.priceCurrent.slice(0,-2)) > 2000000 ;
            })

            renderNews(minPrice2000) ;

            arrayChange = minPrice2000 ;
        }

        else if(nameBtn === 'Từ 1tr500 - > 2 triệu'){
            const minPrice1500 = product.filter(item=>{
                return _.toNumber(item.priceCurrent.slice(0,-2)) <= 2000000 && _.toNumber(item.priceCurrent.slice(0,-2)) > 1500000 ;
            })

            renderNews(minPrice1500) ;
        }

        else if(nameBtn === 'Từ 1 triệu - > 1 triệu 500'){
            const minPrice1500 = product.filter(item=>{
                return _.toNumber(item.priceCurrent.slice(0,-2)) > 1000000 && _.toNumber(item.priceCurrent.slice(0,-2)) < 1500000 ;
            })

            renderNews(minPrice1500) ;

            arrayChange = minPrice1500;
        }

        else if(nameBtn === 'Dưới 1 triệu'){
            const maxPrice100 = product.filter(item=>{
                return _.toNumber(item.priceCurrent.slice(0,-2)) <= 1000000 ;
            })

            renderNews(maxPrice100) ;

            arrayChange = maxPrice100 ;
        }
    })
}


// cart alert
const imageProduct = document.querySelector('.product-image') ;
// console.log('imageProduct ',imageProduct);
const TextProduct = document.querySelector('.product-info__header') ;
// console.log('textProduct ',TextProduct);
const priceCurrent = document.querySelector('.product-info__priceCurrently') ;
// console.log('priceCurrent ',priceCurrent);
const priceOld = document.querySelector('.product-info__priceOldly') ;
// console.log('priceOld ',priceOld.textContent);
const detailProduct = document.querySelector('.product-info__desciption') ;
// console.log('detailProduct ',detailProduct);
// parentElement
const parentElement = document.querySelectorAll('.news-item') ;
// 
const iconView = document.querySelectorAll('.hovered-list-icon--views');
// console.log('iconView ',iconView);
// function test(event) {
//     console.log('event' , event.target);
//     cartAlert.style.display = "block";
//         const itemParent = this.parentElement.parentElement.parentElement.parentElement ;
//         const itemImage = itemParent.childNodes[1].childNodes[1];
//         const itemText = itemParent.childNodes[5].childNodes[1].textContent;
//         // console.log('itemText ',itemText);
//         console.log('ParentNode ',itemParent.childNodes[5].childNodes[7]);
//         const itemPriceCurrnt = itemParent.childNodes[5].childNodes[3].childNodes[1];
//         const itemPriceOld = itemParent.childNodes[5].childNodes[3].childNodes[3];
//         const listDetail = itemParent.childNodes[5].childNodes[7] ;
//         console.log('listDetail ',listDetail);
//         imageProduct.src = itemImage.src;
//         TextProduct.textContent = itemText;
//         priceCurrent.textContent = itemPriceCurrnt.textContent ;
//         priceOld.textContent = itemPriceOld.textContent;
//         detailProduct.innerHTML = listDetail.innerHTML ;
//         console.log('arrayChange ',arrayChange);
// }
// for(let i = 0; i < iconView.length; i++) {
//     // console.log('news-item ',parentElement[i]);
//     // console.log('iconView ',iconView[i]);
//     iconView[i].addEventListener('click', appearAlert) ;
//     function appearAlert(event) {
//         console.log('event ',event.target);

//         const itemParent = this.parentElement.parentElement.parentElement.parentElement ;
//         const itemImage = itemParent.childNodes[1].childNodes[1];
//         const itemText = itemParent.childNodes[5].childNodes[1].textContent;
//         // console.log('itemText ',itemText);
//         console.log('ParentNode ',itemParent.childNodes[5].childNodes[7]);
//         const itemPriceCurrnt = itemParent.childNodes[5].childNodes[3].childNodes[1];
//         const itemPriceOld = itemParent.childNodes[5].childNodes[3].childNodes[3];
//         const listDetail = itemParent.childNodes[5].childNodes[7] ;
//         console.log('listDetail ',listDetail);
//         imageProduct.src = itemImage.src;
//         TextProduct.textContent = itemText;
//         priceCurrent.textContent = itemPriceCurrnt.textContent ;
//         priceOld.textContent = itemPriceOld.textContent;
//         detailProduct.innerHTML = listDetail.innerHTML ;

//         console.log('arrayChange ',arrayChange);
//     }
// }

// close 
const cartAlert = document.querySelector('.product-info') ;
const cartCloseAlert = document.querySelector('.product-close-button') ;
cartCloseAlert.addEventListener('click', function(event){
    console.log('event' , event.target);
    cartAlert.style.display= "none" ;
})

const cart = document.querySelector('.header-list-item--cart') ;
console.log('cart' , cart);


// console.log('cartContainer' , cartContainer);


// remove item
// const removeElement = document.querySelectorAll('.cart-item-remove');
// console.log('removeElement', removeElement);
// const elementContainer = document.querySelector('.cart-inside');
// console.log('elementContainer', elementContainer);
// // console.log('elementContainer ',elementContainer);
// for(let i = 0 ; i <removeElement.length ; i++){
//     removeElement[i].addEventListener('click', function(event){
//         const parentNode = event.target.parentElement.parentElement.parentElement ;
//         console.log('parentNode ', parentNode);
//         const elementContainer = parentNode.childNodes[1] ;
//         console.log('elementContainer ', elementContainer);             
//         parentNode.removeChild(elementContainer) ;
//         // elementContainer.removeChild(elementContainer.childElement[i]);
//     })
// }


const cartIcon = document.querySelector('.header-list-item--cart') ;
const listProducts = document.querySelector('.cart-inside')
// console.log('listProducts', listProducts);
// cartIcon.addEventListener('click', function(){
//     listProducts.style.display = "block" ;
// })

// cartIcon.addEventListener('dobleclick', function(){
//     listProducts.style.display = "none" ;
// })

function removeElement(event){
    const parentElement = event.target.parentElement.parentElement.parentElement ;
    console.log('event', parentElement);
    const itemElement = event.target.parentElement.parentElement ;
    console.log('itemElement', itemElement);
    parentElement.removeChild(itemElement) ;
}

// add with alert
function addToCartByView(event){
    const cart = document.querySelector('.cart-inside');
    console.log('cart', cart);
    console.log('event', event.target);
    const parentElement = event.target.parentElement.parentElement.parentElement;
    console.log('parentElement ' , parentElement);
    const imageProduct = parentElement.childNodes[1].childNodes[1].src ;
    console.log('imageProduct ' , imageProduct);
    const nameProduct = parentElement.childNodes[3].childNodes[1].textContent;
    const priceProduct = parentElement.childNodes[3].childNodes[3].textContent;
    const childElement = document.createElement('div') ;
    childElement.setAttribute('class', 'cart-item');
    childElement.innerHTML = `
        <div class="cart-item-image">
            <img src="${imageProduct}" alt="">
        </div>

        <div class="cart-item-content">
            <div class="cart-item-info">
                <h3 class="cart-item-content__name">
                    ${nameProduct}
                </h3>

                <p class="cart-item-content__price"> 
                    ${priceProduct}
                </p>
            </div>

            <div class="cart-item-remove" onclick="removeElement(event)">-</div>
        </div>
    `
    cart.appendChild(childElement) ;
}

function handleAppear(event){
    let productInfoImage = document.querySelector('.product-image') ;
    let productInfoName = document.querySelector('.product-info__header') ;
    let productInfoPriceCurrent = document.querySelector('.product-info__priceCurrently');
    let productInfoPriceOld = document.querySelector('.product-info__priceOldly');
    console.log('productInfoName' , productInfoName);
    cartAlert.style.display = "block";
    // const nameProduct ;
    const parentElement = event.target.parentElement.parentElement.parentElement.parentElement ;
    const imageElement = parentElement.childNodes[1].childNodes[1] ;
    console.log('imageElement', imageElement);
    const nameElement = parentElement.childNodes[5].childNodes[1].textContent ;
    const priceElement = parentElement.childNodes[5].childNodes[3].childNodes[1].textContent ;
    const priceElementOld = parentElement.childNodes[5].childNodes[3].childNodes[3].textContent ;
    productInfoImage.src = imageElement.src;
    productInfoName.textContent = nameElement ;
    productInfoPriceOld.textContent = priceElementOld ;
    productInfoPriceCurrent = priceElement ;
}

// add To cart by icon
function addToCart(event) {
    const cartContainer = document.querySelector('.cart-inside') ;
    console.log('event', event.target);
        const parentElement = event.target.parentElement.parentElement.parentElement.parentElement;
        console.log('parent', parentElement);
        const parentContent = parentElement.childNodes[5];
        const imageProduct = parentElement.childNodes[1].childNodes[1].src ;
        // console.log('item product', imageProduct);
        const nameProduct = parentContent.childNodes[1].innerText ;
        const priceProduct = parentContent.childNodes[3].childNodes[1].innerText ;
        console.log('nameProduct' , nameProduct);
        console.log('priceProduct' , priceProduct);
    
        const childElement = document.createElement('div');
        childElement.setAttribute('class', 'cart-item')
        console.log('childElement' , childElement);
        childElement.innerHTML = 
        `
            <div class="cart-item-image">
                <img src="${imageProduct}" alt="">
            </div>
    
            <div class="cart-item-content">
                <div class="cart-item-info">
                    <h3 class="cart-item-content__name">
                        ${nameProduct}
                    </h3>
    
                    <p class="cart-item-content__price"> 
                        ${priceProduct}
                    </p>
                </div>
    
                <div class="cart-item-remove" onclick="removeElement(event)">-</div>
            </div>
        `
    cartContainer.appendChild(childElement) ;
}





// add to cart 2
// const addbtn = document.querySelector('.product-add');
// addbtn.addEventListener('click' , function(event){
//     const btnadd = event.target.parentElement.childNodes[3];
//     const parentItem = btnadd.parentElement.parentElement.parentElement ;
//     const imageElement = parentItem.childNodes[1].childNodes[1].src ;
//     const textElement = parentItem.childNodes[3].childNodes[1].innerText;
//     const priceElement = parentItem.childNodes[3].childNodes[3].innerText;
//     const childElement = document.createElement('div');
//         childElement.setAttribute('class', 'cart-item')
//         console.log('childElement' , childElement);
//         childElement.innerHTML = 
//         `
//             <div class="cart-item-image">
//                 <img src="${imageElement}" alt="">
//             </div>
    
//             <div class="cart-item-content">
//                 <div class="cart-item-info">
//                     <h3 class="cart-item-content__name">
//                         ${textElement}
//                     </h3>
    
//                     <p class="cart-item-content__price"> 
//                         ${priceElement}
//                     </p>
//                 </div>
    
//                 <div class="cart-item-remove" onclick="removeElement(event)">-</div>
//             </div>
//         `
//         cartContainer.appendChild(childElement) ;
// })

// add to cart list
// const addbtn1 = document.querySelectorAll('.hovered-list-icon--cart');

// for(let i = 0 ; i <addbtn1.length ; i++){
//     addbtn1[i].addEventListener('click', function(event){
//         console.log('render');
//         console.log('event' , event.target);
        // const parentElement = event.target.parentElement.parentElement.parentElement.parentElement;
        // console.log('parent', parentElement);
        // const parentContent = parentElement.childNodes[5];
        // const imageProduct = parentElement.childNodes[1].childNodes[1].src ;
        // // console.log('item product', imageProduct);
        // const nameProduct = parentContent.childNodes[1].innerText ;
        // const priceProduct = parentContent.childNodes[3].childNodes[1].innerText ;
        // console.log('nameProduct' , nameProduct);
        // console.log('priceProduct' , priceProduct);
    
//         const childElement = document.createElement('div');
//         childElement.setAttribute('class', 'cart-item')
//         console.log('childElement' , childElement);
//         childElement.innerHTML = 
//         `
//             <div class="cart-item-image">
//                 <img src="${imageProduct}" alt="">
//             </div>
    
//             <div class="cart-item-content">
//                 <div class="cart-item-info">
//                     <h3 class="cart-item-content__name">
//                         ${nameProduct}
//                     </h3>
    
//                     <p class="cart-item-content__price"> 
//                         ${priceProduct}
//                     </p>
//                 </div>
    
//                 <div class="cart-item-remove" onclick="removeElement(event)">-</div>
//             </div>
//         `
//         cartContainer.appendChild(childElement) ;
    
//         // console.log('parentContent' , parentContent.childNodes[3].childNodes[1]);
//     })
// }